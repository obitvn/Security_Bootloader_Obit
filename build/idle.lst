ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"idle.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.rt_thread_idle_excute,"ax",%progbits
  18              		.align	1
  19              		.global	rt_thread_idle_excute
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	rt_thread_idle_excute:
  26              	.LFB16:
  27              		.file 1 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c"
   1:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /*
   2:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * Copyright (c) 2006-2018, RT-Thread Development Team
   3:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
   4:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * SPDX-License-Identifier: Apache-2.0
   5:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
   6:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * Change Logs:
   7:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * Date           Author       Notes
   8:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2006-03-23     Bernard      the first version
   9:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2010-11-10     Bernard      add cleanup callback function in thread exit.
  10:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2012-12-29     Bernard      fix compiling warning.
  11:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2013-12-21     Grissiom     let rt_thread_idle_excute loop until there is no
  12:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *                             dead thread.
  13:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2016-08-09     ArdaFu       add method to get the handler of the idle thread.
  14:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2018-02-07     Bernard      lock scheduler to protect tid->cleanup.
  15:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * 2018-07-14     armink       add idle hook list
  16:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
  17:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  18:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #include <rthw.h>
  19:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #include <rtthread.h>
  20:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  21:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_MODULE
  22:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #include <dlmodule.h>
  23:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  24:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  25:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #if defined (RT_USING_HOOK)
  26:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifndef RT_USING_IDLE_HOOK
  27:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #define RT_USING_IDLE_HOOK
  28:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  29:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  30:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  31:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifndef IDLE_THREAD_STACK_SIZE
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 2


  32:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #if defined (RT_USING_IDLE_HOOK) || defined(RT_USING_HEAP)
  33:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #define IDLE_THREAD_STACK_SIZE  256
  34:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #else
  35:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #define IDLE_THREAD_STACK_SIZE  128
  36:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  37:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  38:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  39:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** static struct rt_thread idle;
  40:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** ALIGN(RT_ALIGN_SIZE)
  41:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** static rt_uint8_t rt_thread_stack[IDLE_THREAD_STACK_SIZE];
  42:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  43:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** extern rt_list_t rt_thread_defunct;
  44:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  45:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_IDLE_HOOK
  46:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  47:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifndef RT_IDEL_HOOK_LIST_SIZE
  48:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #define RT_IDEL_HOOK_LIST_SIZE          4
  49:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
  50:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  51:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** static void (*idle_hook_list[RT_IDEL_HOOK_LIST_SIZE])();
  52:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  53:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /**
  54:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @ingroup Hook
  55:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * This function sets a hook function to idle thread loop. When the system performs
  56:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * idle loop, this hook function should be invoked.
  57:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
  58:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @param hook the specified hook function
  59:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
  60:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @return RT_EOK: set OK
  61:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *         -RT_EFULL: hook list is full
  62:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
  63:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @note the hook function must be simple and never be blocked or suspend.
  64:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
  65:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** rt_err_t rt_thread_idle_sethook(void (*hook)(void))
  66:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
  67:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_size_t i;
  68:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_base_t level;
  69:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_err_t ret = -RT_EFULL;
  70:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  71:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* disable interrupt */
  72:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     level = rt_hw_interrupt_disable();
  73:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  74:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     for (i = 0; i < RT_IDEL_HOOK_LIST_SIZE; i++)
  75:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     {
  76:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         if (idle_hook_list[i] == RT_NULL)
  77:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         {
  78:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             idle_hook_list[i] = hook;
  79:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             ret = RT_EOK;
  80:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             break;
  81:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         }
  82:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     }
  83:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* enable interrupt */
  84:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_hw_interrupt_enable(level);
  85:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
  86:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     return ret;
  87:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
  88:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 3


  89:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /**
  90:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * delete the idle hook on hook list
  91:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
  92:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @param hook the specified hook function
  93:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
  94:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @return RT_EOK: delete OK
  95:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *         -RT_ENOSYS: hook was not found
  96:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
  97:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** rt_err_t rt_thread_idle_delhook(void (*hook)(void))
  98:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
  99:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_size_t i;
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_base_t level;
 101:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_err_t ret = -RT_ENOSYS;
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 103:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* disable interrupt */
 104:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     level = rt_hw_interrupt_disable();
 105:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 106:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     for (i = 0; i < RT_IDEL_HOOK_LIST_SIZE; i++)
 107:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     {
 108:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         if (idle_hook_list[i] == hook)
 109:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         {
 110:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             idle_hook_list[i] = RT_NULL;
 111:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             ret = RT_EOK;
 112:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             break;
 113:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         }
 114:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     }
 115:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* enable interrupt */
 116:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_hw_interrupt_enable(level);
 117:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 118:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     return ret;
 119:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 120:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 122:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 123:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /* Return whether there is defunctional thread to be deleted. */
 124:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** rt_inline int _has_defunct_thread(void)
 125:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
 126:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* The rt_list_isempty has prototype of "int rt_list_isempty(const rt_list_t *l)".
 127:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      * So the compiler has a good reason that the rt_thread_defunct list does
 128:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      * not change within rt_thread_idle_excute thus optimize the "while" loop
 129:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      * into a "if".
 130:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      *
 131:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      * So add the volatile qualifier here. */
 132:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     const volatile rt_list_t *l = (const volatile rt_list_t *)&rt_thread_defunct;
 133:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 134:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     return l->next != l;
 135:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 136:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 137:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /**
 138:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @ingroup Thread
 139:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
 140:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * This function will perform system background job when system idle.
 141:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
 142:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** void rt_thread_idle_excute(void)
 143:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
  28              		.loc 1 143 0
  29              		.cfi_startproc
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 4


  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33              	.LBB9:
  34              	.LBB10:
 134:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
  35              		.loc 1 134 0
  36 0000 1F4B     		ldr	r3, .L14
  37 0002 1A68     		ldr	r2, [r3]
  38              	.LBE10:
  39              	.LBE9:
 144:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* Loop until there is no dead thread. So one call to rt_thread_idle_excute
 145:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****      * will do all the cleanups. */
 146:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     while (_has_defunct_thread())
  40              		.loc 1 146 0
  41 0004 9A42     		cmp	r2, r3
  42 0006 39D0     		beq	.L12
 143:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* Loop until there is no dead thread. So one call to rt_thread_idle_excute
  43              		.loc 1 143 0
  44 0008 70B5     		push	{r4, r5, r6, lr}
  45              	.LCFI0:
  46              		.cfi_def_cfa_offset 16
  47              		.cfi_offset 4, -16
  48              		.cfi_offset 5, -12
  49              		.cfi_offset 6, -8
  50              		.cfi_offset 14, -4
  51              	.L7:
  52              	.LBB12:
 147:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     {
 148:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_base_t lock;
 149:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_thread_t thread;
 150:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_MODULE
 151:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         struct rt_dlmodule *module = RT_NULL;
 152:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 153:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         RT_DEBUG_NOT_IN_INTERRUPT;
 154:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 155:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         /* disable interrupt */
 156:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         lock = rt_hw_interrupt_disable();
  53              		.loc 1 156 0
  54 000a FFF7FEFF 		bl	rt_hw_interrupt_disable
  55              	.LVL1:
  56 000e 0646     		mov	r6, r0
  57              	.LVL2:
  58              	.LBB13:
  59              	.LBB14:
 134:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
  60              		.loc 1 134 0
  61 0010 1B4B     		ldr	r3, .L14
  62 0012 1A68     		ldr	r2, [r3]
  63              	.LBE14:
  64              	.LBE13:
 157:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 158:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         /* re-check whether list is empty */
 159:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         if (_has_defunct_thread())
  65              		.loc 1 159 0
  66 0014 9A42     		cmp	r2, r3
  67 0016 2ED0     		beq	.L3
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 5


 160:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         {
 161:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* get defunct thread */
 162:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             thread = rt_list_entry(rt_thread_defunct.next,
  68              		.loc 1 162 0
  69 0018 1C68     		ldr	r4, [r3]
  70 001a A4F11405 		sub	r5, r4, #20
  71              	.LVL3:
  72              	.LBB15:
  73              	.LBB16:
  74              		.file 2 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h"
   1:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /*
   2:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * Copyright (c) 2006-2018, RT-Thread Development Team
   3:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *
   4:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * SPDX-License-Identifier: Apache-2.0
   5:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *
   6:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * Change Logs:
   7:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * Date           Author       Notes
   8:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * 2006-03-16     Bernard      the first version
   9:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * 2006-09-07     Bernard      move the kservice APIs to rtthread.h
  10:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * 2007-06-27     Bernard      fix the rt_list_remove bug
  11:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * 2012-03-22     Bernard      rename kservice.h to rtservice.h
  12:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * 2017-11-15     JasonJia     Modify rt_slist_foreach to rt_slist_for_each_entry.
  13:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *                             Make code cleanup.
  14:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  15:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  16:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #ifndef __RT_SERVICE_H__
  17:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #define __RT_SERVICE_H__
  18:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  19:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #ifdef __cplusplus
  20:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** extern "C" {
  21:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #endif
  22:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  23:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  24:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @addtogroup KernelService
  25:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  26:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  27:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**@{*/
  28:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  29:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  30:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * rt_container_of - return the member address of ptr, if the type of ptr is the
  31:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * struct type.
  32:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  33:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #define rt_container_of(ptr, type, member) \
  34:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     ((type *)((char *)(ptr) - (unsigned long)(&((type *)0)->member)))
  35:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  36:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  37:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  38:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @brief initialize a list object
  39:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  40:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** #define RT_LIST_OBJECT_INIT(object) { &(object), &(object) }
  41:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  42:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  43:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @brief initialize a list
  44:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *
  45:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param l list to be initialized
  46:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  47:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** rt_inline void rt_list_init(rt_list_t *l)
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 6


  48:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** {
  49:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     l->next = l->prev = l;
  50:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** }
  51:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  52:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  53:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @brief insert a node after a list
  54:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *
  55:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param l list to insert it
  56:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param n new node to be inserted
  57:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  58:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** rt_inline void rt_list_insert_after(rt_list_t *l, rt_list_t *n)
  59:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** {
  60:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     l->next->prev = n;
  61:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->next = l->next;
  62:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  63:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     l->next = n;
  64:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->prev = l;
  65:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** }
  66:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  67:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  68:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @brief insert a node before a list
  69:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  *
  70:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param n new node to be inserted
  71:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param l list to insert it
  72:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  73:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** rt_inline void rt_list_insert_before(rt_list_t *l, rt_list_t *n)
  74:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** {
  75:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     l->prev->next = n;
  76:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->prev = l->prev;
  77:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  78:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     l->prev = n;
  79:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->next = l;
  80:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** }
  81:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  82:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** /**
  83:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @brief remove node from list.
  84:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  * @param n the node to remove from the list.
  85:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****  */
  86:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** rt_inline void rt_list_remove(rt_list_t *n)
  87:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** {
  88:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->next->prev = n->prev;
  75              		.loc 2 88 0
  76 001e 2368     		ldr	r3, [r4]
  77 0020 6268     		ldr	r2, [r4, #4]
  78 0022 5A60     		str	r2, [r3, #4]
  89:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->prev->next = n->next;
  79              		.loc 2 89 0
  80 0024 6368     		ldr	r3, [r4, #4]
  81 0026 2268     		ldr	r2, [r4]
  82 0028 1A60     		str	r2, [r3]
  90:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h **** 
  91:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtservice.h ****     n->next = n->prev = n;
  83              		.loc 2 91 0
  84 002a 6460     		str	r4, [r4, #4]
  85 002c 2460     		str	r4, [r4]
  86              	.LVL4:
  87              	.LBE16:
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 7


  88              	.LBE15:
 163:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                                    struct rt_thread,
 164:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                                    tlist);
 165:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_MODULE
 166:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             module = (struct rt_dlmodule*)thread->module_id;
 167:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             if (module)
 168:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             {
 169:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 dlmodule_destroy(module);
 170:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             }
 171:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 172:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* remove defunct thread */
 173:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             rt_list_remove(&(thread->tlist));
 174:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 175:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* lock scheduler to prevent scheduling in cleanup function. */
 176:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             rt_enter_critical();
  89              		.loc 1 176 0
  90 002e FFF7FEFF 		bl	rt_enter_critical
  91              	.LVL5:
 177:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 178:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* invoke thread cleanup */
 179:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             if (thread->cleanup != RT_NULL)
  92              		.loc 1 179 0
  93 0032 E36D     		ldr	r3, [r4, #92]
  94 0034 0BB1     		cbz	r3, .L4
 180:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 thread->cleanup(thread);
  95              		.loc 1 180 0
  96 0036 2846     		mov	r0, r5
  97 0038 9847     		blx	r3
  98              	.LVL6:
  99              	.L4:
 181:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 182:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_SIGNALS
 183:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             rt_thread_free_sig(thread);
 184:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 185:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 186:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* if it's a system object, not delete it */
 187:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             if (rt_object_is_systemobject((rt_object_t)thread) == RT_TRUE)
 100              		.loc 1 187 0
 101 003a 2846     		mov	r0, r5
 102 003c FFF7FEFF 		bl	rt_object_is_systemobject
 103              	.LVL7:
 104 0040 0128     		cmp	r0, #1
 105 0042 0FD0     		beq	.L13
 188:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             {
 189:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 /* detach this object */
 190:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 rt_object_detach((rt_object_t)thread);
 191:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 /* unlock scheduler */
 192:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 rt_exit_critical();
 193:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 194:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 /* enable interrupt */
 195:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 rt_hw_interrupt_enable(lock);
 196:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 197:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 return;
 198:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             }
 199:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 200:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* unlock scheduler */
 201:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             rt_exit_critical();
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 8


 106              		.loc 1 201 0
 107 0044 FFF7FEFF 		bl	rt_exit_critical
 108              	.LVL8:
 202:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         }
 203:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         else
 204:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         {
 205:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* enable interrupt */
 206:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             rt_hw_interrupt_enable(lock);
 207:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 208:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             /* may the defunct thread list is removed by others, just return */
 209:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             return;
 210:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         }
 211:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 212:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         /* enable interrupt */
 213:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_hw_interrupt_enable(lock);
 109              		.loc 1 213 0
 110 0048 3046     		mov	r0, r6
 111 004a FFF7FEFF 		bl	rt_hw_interrupt_enable
 112              	.LVL9:
 214:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 215:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_HEAP
 216:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         /* release thread's stack */
 217:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         RT_KERNEL_FREE(thread->stack_addr);
 113              		.loc 1 217 0
 114 004e 6069     		ldr	r0, [r4, #20]
 115 0050 FFF7FEFF 		bl	rt_free
 116              	.LVL10:
 218:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         /* delete thread object */
 219:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_object_delete((rt_object_t)thread);
 117              		.loc 1 219 0
 118 0054 2846     		mov	r0, r5
 119 0056 FFF7FEFF 		bl	rt_object_delete
 120              	.LVL11:
 121              	.LBE12:
 122              	.LBB17:
 123              	.LBB11:
 134:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 124              		.loc 1 134 0
 125 005a 094B     		ldr	r3, .L14
 126 005c 1A68     		ldr	r2, [r3]
 127              	.LBE11:
 128              	.LBE17:
 146:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     {
 129              		.loc 1 146 0
 130 005e 9A42     		cmp	r2, r3
 131 0060 D3D1     		bne	.L7
 132 0062 0AE0     		b	.L1
 133              	.L13:
 134              	.LBB18:
 190:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 /* unlock scheduler */
 135              		.loc 1 190 0
 136 0064 2846     		mov	r0, r5
 137 0066 FFF7FEFF 		bl	rt_object_detach
 138              	.LVL12:
 192:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 139              		.loc 1 192 0
 140 006a FFF7FEFF 		bl	rt_exit_critical
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 9


 141              	.LVL13:
 195:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 142              		.loc 1 195 0
 143 006e 3046     		mov	r0, r6
 144 0070 FFF7FEFF 		bl	rt_hw_interrupt_enable
 145              	.LVL14:
 197:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             }
 146              		.loc 1 197 0
 147 0074 01E0     		b	.L1
 148              	.LVL15:
 149              	.L3:
 206:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 150              		.loc 1 206 0
 151 0076 FFF7FEFF 		bl	rt_hw_interrupt_enable
 152              	.LVL16:
 153              	.L1:
 154              	.LBE18:
 220:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 221:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     }
 222:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 155              		.loc 1 222 0
 156 007a 70BD     		pop	{r4, r5, r6, pc}
 157              	.LVL17:
 158              	.L12:
 159              	.LCFI1:
 160              		.cfi_def_cfa_offset 0
 161              		.cfi_restore 4
 162              		.cfi_restore 5
 163              		.cfi_restore 6
 164              		.cfi_restore 14
 165 007c 7047     		bx	lr
 166              	.L15:
 167 007e 00BF     		.align	2
 168              	.L14:
 169 0080 00000000 		.word	rt_thread_defunct
 170              		.cfi_endproc
 171              	.LFE16:
 173              		.section	.text.rt_thread_idle_entry,"ax",%progbits
 174              		.align	1
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	rt_thread_idle_entry:
 181              	.LFB17:
 223:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 224:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** extern void rt_system_power_manager(void);
 225:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** static void rt_thread_idle_entry(void *parameter)
 226:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
 182              		.loc 1 226 0
 183              		.cfi_startproc
 184              		@ Volatile: function does not return.
 185              		@ args = 0, pretend = 0, frame = 0
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 187              	.LVL18:
 188 0000 08B5     		push	{r3, lr}
 189              	.LCFI2:
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 10


 190              		.cfi_def_cfa_offset 8
 191              		.cfi_offset 3, -8
 192              		.cfi_offset 14, -4
 193              	.LVL19:
 194              	.L17:
 227:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     while (1)
 228:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     {
 229:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 230:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_IDLE_HOOK
 231:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_size_t i;
 232:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 233:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         for (i = 0; i < RT_IDEL_HOOK_LIST_SIZE; i++)
 234:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         {
 235:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             if (idle_hook_list[i] != RT_NULL)
 236:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             {
 237:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                 idle_hook_list[i]();
 238:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****             }
 239:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         }
 240:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 241:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 242:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_thread_idle_excute();
 195              		.loc 1 242 0 discriminator 1
 196 0002 FFF7FEFF 		bl	rt_thread_idle_excute
 197              	.LVL20:
 198 0006 FCE7     		b	.L17
 199              		.cfi_endproc
 200              	.LFE17:
 202              		.section	.text.rt_thread_idle_init,"ax",%progbits
 203              		.align	1
 204              		.global	rt_thread_idle_init
 205              		.syntax unified
 206              		.thumb
 207              		.thumb_func
 208              		.fpu fpv4-sp-d16
 210              	rt_thread_idle_init:
 211              	.LFB18:
 243:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #ifdef RT_USING_PM        
 244:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****         rt_system_power_manager();
 245:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** #endif
 246:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     }
 247:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 248:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 249:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /**
 250:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @ingroup SystemInit
 251:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
 252:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * This function will initialize idle thread, then start it.
 253:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
 254:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @note this function must be invoked when system init.
 255:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
 256:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** void rt_thread_idle_init(void)
 257:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
 212              		.loc 1 257 0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 0
 215              		@ frame_needed = 0, uses_anonymous_args = 0
 216 0000 10B5     		push	{r4, lr}
 217              	.LCFI3:
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 11


 218              		.cfi_def_cfa_offset 8
 219              		.cfi_offset 4, -8
 220              		.cfi_offset 14, -4
 221 0002 84B0     		sub	sp, sp, #16
 222              	.LCFI4:
 223              		.cfi_def_cfa_offset 24
 258:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* initialize thread */
 259:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_thread_init(&idle,
 224              		.loc 1 259 0
 225 0004 0A4C     		ldr	r4, .L21
 226 0006 2023     		movs	r3, #32
 227 0008 0393     		str	r3, [sp, #12]
 228 000a 1F23     		movs	r3, #31
 229 000c 0293     		str	r3, [sp, #8]
 230 000e 4FF48073 		mov	r3, #256
 231 0012 0193     		str	r3, [sp, #4]
 232 0014 074B     		ldr	r3, .L21+4
 233 0016 0093     		str	r3, [sp]
 234 0018 0023     		movs	r3, #0
 235 001a 074A     		ldr	r2, .L21+8
 236 001c 0749     		ldr	r1, .L21+12
 237 001e 2046     		mov	r0, r4
 238 0020 FFF7FEFF 		bl	rt_thread_init
 239              	.LVL21:
 260:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    "tidle",
 261:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    rt_thread_idle_entry,
 262:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    RT_NULL,
 263:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    &rt_thread_stack[0],
 264:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    sizeof(rt_thread_stack),
 265:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    RT_THREAD_PRIORITY_MAX - 1,
 266:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****                    32);
 267:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 268:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     /* startup */
 269:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     rt_thread_startup(&idle);
 240              		.loc 1 269 0
 241 0024 2046     		mov	r0, r4
 242 0026 FFF7FEFF 		bl	rt_thread_startup
 243              	.LVL22:
 270:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 244              		.loc 1 270 0
 245 002a 04B0     		add	sp, sp, #16
 246              	.LCFI5:
 247              		.cfi_def_cfa_offset 8
 248              		@ sp needed
 249 002c 10BD     		pop	{r4, pc}
 250              	.L22:
 251 002e 00BF     		.align	2
 252              	.L21:
 253 0030 00000000 		.word	.LANCHOR0
 254 0034 00000000 		.word	.LANCHOR1
 255 0038 00000000 		.word	rt_thread_idle_entry
 256 003c 00000000 		.word	.LC0
 257              		.cfi_endproc
 258              	.LFE18:
 260              		.section	.text.rt_thread_idle_gethandler,"ax",%progbits
 261              		.align	1
 262              		.global	rt_thread_idle_gethandler
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 12


 263              		.syntax unified
 264              		.thumb
 265              		.thumb_func
 266              		.fpu fpv4-sp-d16
 268              	rt_thread_idle_gethandler:
 269              	.LFB19:
 271:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** 
 272:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** /**
 273:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * @ingroup Thread
 274:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
 275:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  * This function will get the handler of the idle thread.
 276:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  *
 277:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****  */
 278:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** rt_thread_t rt_thread_idle_gethandler(void)
 279:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** {
 270              		.loc 1 279 0
 271              		.cfi_startproc
 272              		@ args = 0, pretend = 0, frame = 0
 273              		@ frame_needed = 0, uses_anonymous_args = 0
 274              		@ link register save eliminated.
 280:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c ****     return (rt_thread_t)(&idle);
 281:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/src/idle.c **** }
 275              		.loc 1 281 0
 276 0000 0048     		ldr	r0, .L24
 277 0002 7047     		bx	lr
 278              	.L25:
 279              		.align	2
 280              	.L24:
 281 0004 00000000 		.word	.LANCHOR0
 282              		.cfi_endproc
 283              	.LFE19:
 285              		.section	.bss.idle,"aw",%nobits
 286              		.align	2
 287              		.set	.LANCHOR0,. + 0
 290              	idle:
 291 0000 00000000 		.space	120
 291      00000000 
 291      00000000 
 291      00000000 
 291      00000000 
 292              		.section	.bss.rt_thread_stack,"aw",%nobits
 293              		.align	2
 294              		.set	.LANCHOR1,. + 0
 297              	rt_thread_stack:
 298 0000 00000000 		.space	256
 298      00000000 
 298      00000000 
 298      00000000 
 298      00000000 
 299              		.section	.rodata.rt_thread_idle_init.str1.4,"aMS",%progbits,1
 300              		.align	2
 301              	.LC0:
 302 0000 7469646C 		.ascii	"tidle\000"
 302      6500
 303              		.text
 304              	.Letext0:
 305              		.file 3 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtdef.h"
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 13


 306              		.file 4 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtthread.h"
 307              		.file 5 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rthw.h"
ARM GAS  C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 idle.c
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:18     .text.rt_thread_idle_excute:0000000000000000 $t
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:25     .text.rt_thread_idle_excute:0000000000000000 rt_thread_idle_excute
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:169    .text.rt_thread_idle_excute:0000000000000080 $d
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:174    .text.rt_thread_idle_entry:0000000000000000 $t
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:180    .text.rt_thread_idle_entry:0000000000000000 rt_thread_idle_entry
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:203    .text.rt_thread_idle_init:0000000000000000 $t
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:210    .text.rt_thread_idle_init:0000000000000000 rt_thread_idle_init
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:253    .text.rt_thread_idle_init:0000000000000030 $d
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:261    .text.rt_thread_idle_gethandler:0000000000000000 $t
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:268    .text.rt_thread_idle_gethandler:0000000000000000 rt_thread_idle_gethandler
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:281    .text.rt_thread_idle_gethandler:0000000000000004 $d
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:286    .bss.idle:0000000000000000 $d
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:290    .bss.idle:0000000000000000 idle
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:293    .bss.rt_thread_stack:0000000000000000 $d
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:297    .bss.rt_thread_stack:0000000000000000 rt_thread_stack
C:\Users\chuti\AppData\Local\Temp\ccom3Tk9.s:300    .rodata.rt_thread_idle_init.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
rt_hw_interrupt_disable
rt_enter_critical
rt_object_is_systemobject
rt_exit_critical
rt_hw_interrupt_enable
rt_free
rt_object_delete
rt_object_detach
rt_thread_defunct
rt_thread_init
rt_thread_startup
